<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Vue面试精选 | </title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app.4afcc58d.js"><link rel="modulepreload" href="/assets/vue.html.3c6162b9.js"><link rel="modulepreload" href="/assets/vue.html.84befb48.js"><link rel="prefetch" href="/assets/index.html.336290ef.js"><link rel="prefetch" href="/assets/css.html.506e1593.js"><link rel="prefetch" href="/assets/js.html.a0bf57de.js"><link rel="prefetch" href="/assets/docker.html.e8d84372.js"><link rel="prefetch" href="/assets/webpack.html.beed4981.js"><link rel="prefetch" href="/assets/index.html.424547b0.js"><link rel="prefetch" href="/assets/http.html.c64f9040.js"><link rel="prefetch" href="/assets/WebSocket.html.397bc3fc.js"><link rel="prefetch" href="/assets/浏览器.html.3be9ac20.js"><link rel="prefetch" href="/assets/设计模式.html.6cbb97f1.js"><link rel="prefetch" href="/assets/gungnir博客配置.html.39a6fc28.js"><link rel="prefetch" href="/assets/nuxt.html.ffd9bbf8.js"><link rel="prefetch" href="/assets/vue.html.16fcb2f8.js"><link rel="prefetch" href="/assets/css.html.ed27349b.js"><link rel="prefetch" href="/assets/html.html.5d591db3.js"><link rel="prefetch" href="/assets/ES6.html.d18c8b41.js"><link rel="prefetch" href="/assets/js基础.html.d9c4f284.js"><link rel="prefetch" href="/assets/js文件处理.html.c503b127.js"><link rel="prefetch" href="/assets/ts.html.04aa003e.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/index.html.de26035a.js"><link rel="prefetch" href="/assets/index.html.deae5fb3.js"><link rel="prefetch" href="/assets/index.html.4cb84524.js"><link rel="prefetch" href="/assets/css.html.93508d1c.js"><link rel="prefetch" href="/assets/js.html.fc6d541f.js"><link rel="prefetch" href="/assets/docker.html.bbb72b70.js"><link rel="prefetch" href="/assets/webpack.html.84c1a7de.js"><link rel="prefetch" href="/assets/index.html.3b7f3b90.js"><link rel="prefetch" href="/assets/http.html.9621d1aa.js"><link rel="prefetch" href="/assets/WebSocket.html.7c6ff825.js"><link rel="prefetch" href="/assets/浏览器.html.a2b666bb.js"><link rel="prefetch" href="/assets/设计模式.html.7377c483.js"><link rel="prefetch" href="/assets/gungnir博客配置.html.7938d25f.js"><link rel="prefetch" href="/assets/nuxt.html.6dd0db5d.js"><link rel="prefetch" href="/assets/vue.html.2ec71294.js"><link rel="prefetch" href="/assets/css.html.225aaa80.js"><link rel="prefetch" href="/assets/html.html.f56f005d.js"><link rel="prefetch" href="/assets/ES6.html.b981eacd.js"><link rel="prefetch" href="/assets/js基础.html.81abd258.js"><link rel="prefetch" href="/assets/js文件处理.html.9a722572.js"><link rel="prefetch" href="/assets/ts.html.f117f106.js"><link rel="prefetch" href="/assets/404.html.55b7a351.js"><link rel="prefetch" href="/assets/index.html.5977f679.js"><link rel="prefetch" href="/assets/index.html.b927cf80.js"><link rel="prefetch" href="/assets/404.c52688da.js"><link rel="prefetch" href="/assets/HomePage.4b2e5824.js"><link rel="prefetch" href="/assets/Layout.8b63924c.js"><link rel="prefetch" href="/assets/Links.a9ebced6.js"><link rel="prefetch" href="/assets/Post.3484b530.js"><link rel="prefetch" href="/assets/Tags.61676cf8.js">
    <link rel="stylesheet" href="/assets/style.d9da5232.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar invert"><span><a href="/" class=""><span class="site-name">BWLLzlx的个人博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--><!----><span>首页</span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础"><span class="title"><!----><span>基础</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础"><span class="title"><!----><span>基础</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/base/h5c3/html.md" class="" aria-label="h5c3"><!--[--><!--]--><!----><span>h5c3</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/base/js/js基础.md" class="" aria-label="js"><!--[--><!--]--><!----><span>js</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue框架"><span class="title"><!----><span>Vue框架</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue框架"><span class="title"><!----><span>Vue框架</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/vue/vue.md" class="" aria-label="vue"><!--[--><!--]--><!----><span>vue</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/nuxt.md" class="" aria-label="服务端渲染"><!--[--><!--]--><!----><span>服务端渲染</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工程化"><span class="title"><!----><span>工程化</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工程化"><span class="title"><!----><span>工程化</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/engineer/docker.md" class="" aria-label="docker"><!--[--><!--]--><!----><span>docker</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/engineer/webpack.md" class="" aria-label="webpack"><!--[--><!--]--><!----><span>webpack</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="知识体系完善"><span class="title"><!----><span>知识体系完善</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="知识体系完善"><span class="title"><!----><span>知识体系完善</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/pro/浏览器.md" class="" aria-label="浏览器"><!--[--><!--]--><!----><span>浏览器</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pro/http.md" class="" aria-label="http协议"><!--[--><!--]--><!----><span>http协议</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pro/WebSocket.md" class="" aria-label="WebSocket协议"><!--[--><!--]--><!----><span>WebSocket协议</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pro/设计模式.md" class="" aria-label="设计模式"><!--[--><!--]--><!----><span>设计模式</span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><div class="navbar-item"><a style="cursor:pointer;"><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg></span><span>Search</span></a></div></nav><!--[--><!--]--><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--><!----><span>首页</span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础"><span class="title"><!----><span>基础</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础"><span class="title"><!----><span>基础</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/base/h5c3/html.md" class="" aria-label="h5c3"><!--[--><!--]--><!----><span>h5c3</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/base/js/js基础.md" class="" aria-label="js"><!--[--><!--]--><!----><span>js</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue框架"><span class="title"><!----><span>Vue框架</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue框架"><span class="title"><!----><span>Vue框架</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/vue/vue.md" class="" aria-label="vue"><!--[--><!--]--><!----><span>vue</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/nuxt.md" class="" aria-label="服务端渲染"><!--[--><!--]--><!----><span>服务端渲染</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工程化"><span class="title"><!----><span>工程化</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工程化"><span class="title"><!----><span>工程化</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/engineer/docker.md" class="" aria-label="docker"><!--[--><!--]--><!----><span>docker</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/engineer/webpack.md" class="" aria-label="webpack"><!--[--><!--]--><!----><span>webpack</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="知识体系完善"><span class="title"><!----><span>知识体系完善</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="知识体系完善"><span class="title"><!----><span>知识体系完善</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/pro/浏览器.md" class="" aria-label="浏览器"><!--[--><!--]--><!----><span>浏览器</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pro/http.md" class="" aria-label="http协议"><!--[--><!--]--><!----><span>http协议</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pro/WebSocket.md" class="" aria-label="WebSocket协议"><!--[--><!--]--><!----><span>WebSocket协议</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/pro/设计模式.md" class="" aria-label="设计模式"><!--[--><!--]--><!----><span>设计模式</span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><div class="navbar-item"><a style="cursor:pointer;"><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg></span><span>Search</span></a></div></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><div class="page-content"><!--[--><div class="show-catalog post-wrapper"><div class="article-header post-header" style=""><!----><div class="article-header-content"><!----><h1 class="article-title">Vue面试精选</h1><p class="article-subtitle">Vue面试常用知识</p><div class="article-icons"><div class="article-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg><span>BWLLzlx</span></div><!----><div class="article-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 11-1.414-1.414zM12 20a7 7 0 100-14 7 7 0 000 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z"/></svg><span>17 min</span></div></div></div><!----></div><main class="page post-content"><!--[--><!--]--><div class="theme-gungnir-content"><!--[--><!--]--><div><h3 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法" aria-hidden="true">#</a> 基本用法</h3><h4 id="v-model-作用与实现原理" tabindex="-1"><a class="header-anchor" href="#v-model-作用与实现原理" aria-hidden="true">#</a> v-model 作用与实现原理</h4><p>作用：实现双向数据绑定</p><p>特点：v-model会忽略所有表单元素的value、checked、selected特性的初始值，Vue 实例的数据作为数据来源</p><ul><li>text 和 textarea 元素使用value属性和input事件</li><li>checkbox 和 radio 使用checked属性和change事件</li><li>select 字段将value作为 prop 并将change作为事件</li></ul><p>实现原理：通过v-bind:绑定响应式数据，修改的回调中传递数据设置v-bind的属性的值</p><h4 id="组件通信" tabindex="-1"><a class="header-anchor" href="#组件通信" aria-hidden="true">#</a> 组件通信</h4><ul><li>父子组件props： <ul><li>父组件向子组件传递数据通过props传递</li><li>子组件想要向父组件传数据：父组件传入一个函数，子组件调用方法向父级传参，父级传递给子级的方法中可以获取到参数</li></ul></li><li>自定义事件emit：父组件给子组件创建自定义事件，并且绑定回调。子组件自己想在什么时候触发自定义事件就触发，例如创建自定义事件click3，点击三次后触发，就做一个计数，当count=3的时候就emit(&#39;click3&#39;，参数)，也就是告诉父组件这时候click3事件被触发了，父组件就会执行click3事件回调</li><li>attrs和listeners：第一种方式处理父子组件之间的数据传输有一个问题：如果多层嵌套，父组件A下面有子组件B，组件B下面有组件C,要经历所有。能够让组件A之间传递消息给组件C</li><li>vuex：略</li><li>事件总线：提供一个独立于所有组件的东西x，能让<strong>所有组件都用它</strong>。例如a组件中使用x组件，给x组件添加事件xx指定回调aa（），<strong>当xx触发，a就会调用aa（）</strong>。b用x来调用this.$emit（‘xx’）<strong>让xx触发并传递b的参数</strong></li></ul><h4 id="keep-alive" tabindex="-1"><a class="header-anchor" href="#keep-alive" aria-hidden="true">#</a> keep-alive</h4><p>&lt;keep-alive&gt;&lt;/keep-alive&gt;包裹动态组件时，会缓存不活动的组件实例,主要用于保留组件状态或避免重新渲染。keep- alive的缓存是基于VNode节点的而不是直接存储DOM结构</p><p>可以用include属性选择需要保存到缓存的组件，也有exclude。也可以在meta进行配置keepAlive，配合v-if使用</p><h4 id="data" tabindex="-1"><a class="header-anchor" href="#data" aria-hidden="true">#</a> data</h4><p>虽然函数也是引用类型，但是只有函数构成作用域(只有函数{}构成作用域),当data是一个函数时，每个组件实例都有自己的作用域，每个实例相互独立</p><h4 id="nexttick" tabindex="-1"><a class="header-anchor" href="#nexttick" aria-hidden="true">#</a> nextTick</h4><p>作用：获取更新后的DOM</p><p>原理：修改数据时，视图不会立即更新，而是会监听数据变化，并缓存在同一事件循环中，等同一数据循环中的所有数据变化完成之后，再<strong>统一进行视图更新</strong>。nextTick会等此之后执行回调</p><h4 id="v-if和v-show" tabindex="-1"><a class="header-anchor" href="#v-if和v-show" aria-hidden="true">#</a> v-if和v-show</h4><ul><li>v-show本质就是通过设置css中的display设置为none，控制隐藏。v-show都会编译，初始值为false，只是将display设为none，但它也编译了。v-show只编译一次，后面其实就是控制css，而v-if不停的销毁和创建，故v-show性能更好一点</li><li>v-if是动态的向DOM树内添加或者删除DOM元素。v-if初始值为false，就不会编译了</li></ul><h4 id="白屏问题" tabindex="-1"><a class="header-anchor" href="#白屏问题" aria-hidden="true">#</a> 白屏问题</h4><p>原因：</p><ul><li>先看spa的加载流程： <ul><li>html</li><li>静态css和js</li><li>ajax请求数据</li></ul></li><li>什么时候会是白屏：js没有解析加载完成</li></ul><p>办法：</p><ul><li>减少js体积：gzip压缩html、js、css</li><li>使用CDN：即使是按需引入，也会导致项目打包体积越来越大，首页压力增加，将不常变更的资源拆分出来，挂在CDN <ul><li>vue，vue-router，vuex，axios，echarts，element使用CDN资源引入</li><li>在vue.config.js配置 配置是为了在加载的时候，引用cdn资源 而不是node_modules里的包</li></ul></li><li>路由懒加载：用到什么路由加载什么路由</li><li>在vue.config.js里配置productionSourceMap: false。productionSourceMap是用来报错时定位到代码位置。 如果不想让别人看到源码可以设置为false，并且可以减少打包后包的体积，加密源码</li><li>服务端渲染：把vue组件在服务器端渲染为组装好的HTML字符串，然后将它们直接发送到浏览器，浏览器只需要解析html不需要解析js。但重要的是node层，高并发的解决</li><li>骨架屏：不能加速、仅仅是提升体验</li></ul><h4 id="computed和watch" tabindex="-1"><a class="header-anchor" href="#computed和watch" aria-hidden="true">#</a> computed和watch</h4><ul><li>computed：计算结果<strong>并返回</strong>，只有当被计算的属性发生改变时才会触发。不支持异步。首次就生效</li><li>watch：监听某一个值，当被监听的值发生变化时，执行相关操作。支持异步。</li></ul><h3 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h3><p>主要就是4件事：创建监测和代理，内容挂载到页面，数据更新到页面，销毁</p><p>挂载步骤：</p><ul><li>未初始化阶段</li><li>初始化阶段，创建的内容是<strong>数据监测和数据代理</strong>而不是vm。这个阶段前会调用beforeCreate（），这个阶段后会调用created（）</li><li>（未挂载阶段）解析模板阶段，解析模板生成虚拟dom，但还没有真实dom，还没有挂载【第一次把内容放到页面上】内容到页面</li><li>挂载阶段，把<strong>虚拟dom转换为真实dom，把虚拟dom存起来【存到vm.$el属性】，并且把真实dom插入页面</strong>。这个阶段前会调用beforeMount（），这个阶段后会调用mounted（）</li></ul><p>更新步骤：</p><ul><li>页面未改变阶段，<strong>此时数据变了，但页面还是旧的</strong>。当数据变化就会开始这个阶段</li><li>把数据更改到页面阶段，重新解析模板生成新的虚拟dom并且拿旧的虚拟dom和新的虚拟dom作比较然后<strong>完成页面更新</strong>。这个阶段前会调用beforeUpdate（），这个阶段后会调用updated（）</li></ul><p>销毁步骤：</p><ul><li>准备销毁阶段，各种东西都还在。当实例准备销毁就会进入这个阶段，例如vm.$destroy（）指定vm去死，或者vm因为其他原因要销毁了</li><li>销毁阶段，销毁vm并清理与所有实例【组件】的连接，指令和自定义监听器全解绑。这个阶段前调用beforeDestroy（），这个阶段后调用destroyed（）</li></ul><p>父子组件加载顺序：<strong>父组件的mounted会在所有子组件的mounted之后执行</strong></p><p>异步请求时机：最常用的是在 created 钩子函数中调用异步请求</p><ul><li>能更快获取到服务端数据，减少页面 loading 时间</li><li>放在 created 中有助于一致性，因为ssr 不支持 beforeMount 、mounted 钩子函数</li></ul><h3 id="双向数据绑定" tabindex="-1"><a class="header-anchor" href="#双向数据绑定" aria-hidden="true">#</a> 双向数据绑定</h3><p>实现：采用<strong>数据劫持结合发布者-订阅者模式</strong>的方式</p><p>数据绑定分类</p><ul><li>单向绑定：【v-bind：】，缩写为【：】。数据从data流向页面。能把data中的数据<strong>绑定给某个DOM元素</strong>。但是DOM元素发生更改，v-bind设置的<strong>data中的数据不会变</strong>。当data中的数据发生改变，实例需要重新阅读模板进行解析，然后<strong>所有用到data的DOM元素都会改变</strong>，所有<strong>函数也要重新计算返回结果</strong></li><li>双向绑定：【v-model：value】，缩写为【v-model】用在表单类元素上，能够双向改变获取值，因为需要本身能够输入，<strong>所以需要本身有value属性</strong></li></ul><p>MVVM：</p><ul><li>M：Model，模型，指data数据</li><li>V：View，视图，指DOM元素，模板代码</li><li>VM：ViewModel，指Vue实例，<strong>负责将M和V建立关系，把数据和元素建立起联系</strong>。内部实现了对DOM的监听和拿数据对DOM进行绑定</li></ul><p>数据代理：通过<strong>对象a操作对象b的属性</strong>，利用defineProperty（）。如果要让a代理b的x属性，那就给a添加属性x，给a获取和设置都是操作b的值</p><ul><li>defineProperty（a，‘x’，配置对象{ getter，setter }），<strong>getter就return b的x，setter就把b.x = value</strong></li><li>之所以代码中data的属性会出现在Vue实例，就是因为<strong>调用了Object.defineProperty（）<strong>给Vue实例添加了这些属性，做了数据代理。不过</strong>代码中data部分的数据</strong>会被保存在Vue实例vm的**_data属性<strong>中，而</strong>不是直接给data做代理**。当获取Vue实例的属性，会获取_data里面的属性；设置Vue实例的属性，会设置_data里面的属性。<strong>当_data中的某个属性发生变化，还会自动去修改data的值</strong>，靠的是对_data的一番升级来实现，称作【数据劫持】</li></ul><p>如何实现：</p><ul><li>监听器Observer：劫持并监听所有属性加上getter和setter，如果属性发生变化，就通知订阅者</li><li>订阅器Dep：收集订阅者，对监听器Observer和订阅者Watcher进行统一管理</li><li>订阅者Watcher：收到属性的变化通知，就执行回调更新视图。实例化的时候把自己加到订阅器。自己有一个回调，收到通知就调用回调</li><li>解析器Compile：解析每个节点的指令，对模板数据和订阅器进行初始化，也就是把变量变成数据渲染视图</li></ul><h3 id="虚拟dom" tabindex="-1"><a class="header-anchor" href="#虚拟dom" aria-hidden="true">#</a> 虚拟DOM</h3><ul><li><p>生成模拟DOM树：<strong>用js对象结构</strong>表示DOM树结构，记录tagName、props、children。然后用这个树构建一个真正的DOM树，插到文档中</p><ul><li>创建元素：createElement（tagName）</li><li>设置属性：遍历props，逐个setAttribute</li><li>添加子节点：遍历children，appendChild</li><li>插入文档：document.body.appendChild</li></ul><p>当状态变更时，重新构造一颗新的对象树，然后将新的树和旧的树进行比较，记录差异，并把差异以打补丁的方式应用到真正的DOM树上来更新视图。本质是JS和DOM之间做了一个缓存</p></li><li><p>diff算法：逐层比较。因为前端中很少跨层移动dom元素，所以时间复杂度是O(n)</p><ul><li>多个组件拥有同一个父组件，就归为一个组。整组与变化后的情况做对比，缺了就补上，多了就删除。如果发现某一个节点发生变化，则不再遍历其子节点，直接统一删除整个节点及其子节点，把新节点直接替换上去</li><li>dfs记录差异：对新树和老树深度优先搜索，根据搜索的顺序，每个节点会有唯一的标记。当遍历到某个节点发现有差异的话就记录到一个patch数组里面，记录差异的类型、新节点/新属性的对象/新文本。差异类型包括： <ul><li>节点发生替换：判断新旧节点tagName是否相同，不一样则需要替换</li><li>移动删除新增节点（重排）：列表对比算法 <ul><li>给子节点加上唯一标识key，形成一个子节点列表。求从旧排列到新排列的最小的操作次数</li></ul></li><li>修改属性/文本：patch记录变化</li></ul></li><li>把差异修改到DOM树上 <ul><li>遍历模拟DOM树，从0号index节点开始（index是深度优先的时候走的）获取patch[i]，然后如果非空，就判断类型，然后修改</li></ul></li></ul></li><li><p>为什么v-for要用到key，并且不用index？如果我们使用key给每个节点做唯一的标识，那么diff算法就可以正确的识别，提高了更新虚拟DOM的效率</p></li></ul><h3 id="vuex" tabindex="-1"><a class="header-anchor" href="#vuex" aria-hidden="true">#</a> Vuex</h3><h4 id="功能" tabindex="-1"><a class="header-anchor" href="#功能" aria-hidden="true">#</a> 功能</h4><p>用于状态管理</p><ul><li>store：将全局组件的共享状态抽取出来为一个store，以一个单例模式存在</li><li>state：记录全局状态</li><li>mutations：通过commit触发，处理同步任务，修改state中的属性</li><li>actions：通过dispatch触发，处理异步任务，处理完成后交给mutations生成状态快照</li><li>getters：对state的加工，是派生出来的数据。就像computed计算属性一样</li><li>module：是store分割的模块，每个模块拥有自己的state、getters、mutations、actions</li></ul><p>辅助函数：提供了mapState、MapGetters、MapActions、mapMutations等辅助函数给开发在vm中处理store</p><h4 id="原理实现" tabindex="-1"><a class="header-anchor" href="#原理实现" aria-hidden="true">#</a> 原理实现</h4><p>store如何注册到Vue组件中：</p><ul><li>利用了vue的mixin机制，混合beforeCreate 钩子将store注入至vue组件实例上，并注册了vuex store的引用属性$store。为什么用混入？use是先执行，而this指向的是vue实例，是在main.js中后创建的，使用混入才能在vue实例的指定周期里拿到store实例并做些事情</li><li>响应式的实现通过vue的响应式data实现的</li></ul><p>mutation和commit的实现：</p><ul><li>传入type和arg，this.mutations[type](this.state, arg);</li><li>传入type和arg，return this.actions[type](this, arg)</li></ul><h3 id="vue-router" tabindex="-1"><a class="header-anchor" href="#vue-router" aria-hidden="true">#</a> Vue-router</h3><h4 id="路由守卫" tabindex="-1"><a class="header-anchor" href="#路由守卫" aria-hidden="true">#</a> 路由守卫</h4><p>参数：</p><ul><li>from：正要离开的路由</li><li>to：即将要进入的目标路由对象</li><li>next：调用该方法将控制权交给下一个守卫，如果是最后一个守卫，导航的状态就是confirmed</li></ul><p>分类：</p><ul><li>全局前置路由守卫router.beforeEach</li><li>全局后置路由守卫router.afterEach：没有next</li><li>路由独享守卫beforeEnter：写在路由对象routes的内部</li></ul><p>组件内部的守卫：</p><ul><li>beforeRouterEnter</li><li>beforeRouteUpdate (2.2 新增)</li><li>beforeRouteLeave</li></ul><p>导航全过程：</p><ul><li>导航被触发</li><li>在准备离开的组件里调用 beforeRouteLeave 守卫</li><li>调用全局的 beforeEach 守卫</li><li>重用的组件里调用beforeRouteUpdate 守卫 (2.2+)。（如果你的组件是重用的）</li><li>在路由配置里调用 beforeEnter</li><li>解析即将抵达的组件</li><li>在即将抵达的组件里调用 beforeRouteEnter，这时候组件还没有渲染出来，所以没有this</li><li>调用全局的 beforeResolve 守卫 (2.5+)</li><li>导航被确认</li><li>调用全局的 afterEach 钩子</li><li>触发 DOM 更新</li><li>用创建好的实例调用 beforeRouteEnter 守卫中传给 next 的回调函数</li></ul><h4 id="hash和history" tabindex="-1"><a class="header-anchor" href="#hash和history" aria-hidden="true">#</a> Hash和History</h4><p>hash：hash改变，利用window.onhashchange监听</p><p>history：history模式下，只有浏览器的几个前进后退等操作会主动触发popstate 事件，而pushState，replaceState并不会触发。所以需要重写这两个函数history.pushState, history.replaceState，在路由跳转时进行消息通知，pushState，replaceState因为订阅了消息，就会触发事件订阅回调函数</p><ul><li>Dep订阅池：包括属性id和订阅的对象集合。包括方法add()添加订阅者、notify()通知订阅者</li><li>Watch订阅者：包括属性自己的id、消息的id、收到消息的回调。包括方法添加到订阅池</li></ul><h4 id="原理" tabindex="-1"><a class="header-anchor" href="#原理" aria-hidden="true">#</a> 原理</h4><p>hash：我们在url后面随便添加一个#xx，能触发window.onhashchange事件。该模式使用URL的hash来模拟一个完整的URL。当URL改变的时候,页面不会重新加载，<strong>不会导致浏览器向服务器发出请求，浏览器不发出请求就不会刷新页面，但会触发onhashchange这个事件，要通过监听hash值的变化来实现更新页面</strong>部分内容的操作。hash 虽然出现在 URL 中，但不会被包括在 HTTP 请求中，对后端完全没有影响</p><p>history：用HTML5的history对象的pushState()和replaceState()两个api，结合window.popstate事件（监听浏览器前进后退）来实现。history模式需要后端配合将所有访问都指向index.html，否则用户刷新页面，会导致404错误</p><h4 id="路由跳转和href-location" tabindex="-1"><a class="header-anchor" href="#路由跳转和href-location" aria-hidden="true">#</a> 路由跳转和href.location</h4><ul><li>使用location.href=&#39;/url&#39;来跳转，简单方便，但是刷新了页面</li><li>使用路由方式跳转，无刷新页面，静态跳转</li></ul><h4 id="传参" tabindex="-1"><a class="header-anchor" href="#传参" aria-hidden="true">#</a> 传参</h4><p>params：带上params属性</p><p>query：带上query属性，<strong>可以解决页面刷新数据丢失的问题</strong></p><h3 id="vue3与vue2对比" tabindex="-1"><a class="header-anchor" href="#vue3与vue2对比" aria-hidden="true">#</a> Vue3与Vue2对比</h3><h4 id="双向数据绑定-1" tabindex="-1"><a class="header-anchor" href="#双向数据绑定-1" aria-hidden="true">#</a> 双向数据绑定</h4><p>Vue2的缺陷：</p><ul><li>因为vue2是通过Object.defineProperty () 来劫持各个属性，但是这个方法只能<strong>追踪到数据是否被修改</strong>，添加和删除做不了 <ul><li>解决办法：Vue.set(object, propertyName, value)</li></ul></li><li>不能监听数组的变化，Object.defineProperty()是可以对数组实现监听操作的，但是vue并没有实现这个功能，因为数组长度不定而且数据可能会很多，如果对每一个数据都实现监听，性能代价太大。数组中的元素是引用类型时是会被监听的</li></ul><p>Vue3如何实现：Proxy</p><h3 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h3><h4 id="mvvm、mvc的区别" tabindex="-1"><a class="header-anchor" href="#mvvm、mvc的区别" aria-hidden="true">#</a> MVVM、MVC的区别</h4><p>MVC：</p><ul><li>model：数据</li><li>view：界面</li><li>controller：处理用户交互。接受用户的输入，调用数据完成用户需求，然后再确定用界面来展示</li><li>流程：用数据渲染界面，在界面调用操作，用操作修改数据</li></ul><p>MVVM：</p><ul><li><p>Model：后端的数据</p></li><li><p>View：节点树</p></li><li><p>ViewModel：VM、VC</p></li><li><p>流程：数据改变，VM检测到，修改界面。界面变化，VM检测到，修改数据。V和M不能直接通信，全靠VM这个观察者</p></li><li><p>mvvm主要解决了mvc中大量DOM操作使页面渲染性能降低，加载速度变慢的问题。通过VM实现了View和Model的<strong>自动同步</strong>，这是最关键的</p></li></ul><h4 id="csr和ssr" tabindex="-1"><a class="header-anchor" href="#csr和ssr" aria-hidden="true">#</a> CSR和SSR</h4><p>CSR：前后端分离。首屏加载缓慢</p><ol><li>客户端向服务器发送url请求数据</li><li>将html、js、css不做任何处理返回给客户端</li><li>客户端接收文件、从上至下解析</li><li>遇到ajax请求就请求</li><li>服务端把对应的请求数据返回</li><li>客户端拿到ajax请求返回的数据后，将数据渲染在页面上</li></ol><p>SSR：更好的SEO，更快的内容到达时间。更多的服务器端负载，需要用Node.js渲染，一些生命周期将失效</p><ol><li>客户端向服务器发送一次请求</li><li>服务器接收请求，将页面所需的数据进行统一处理</li><li>当页面结构和数据处理并渲染完毕后，发送给客户端</li><li>客户端接收服务器发送过来的网页文件，不需要做任何操作，直接呈现</li></ol></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><div class="pager"><a href="/project/gungnir%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE.html" class="prev">Previous <br><span>博客的部署记录</span></a><a href="/newDocs/js.html" class="next">Next <br><span>JS面试精选</span></a></div><!--]--><!----></main><ul class="catalog" style="top:0px;"><li class="level-3 toc-link-基本用法">基本用法</li><li class="level-3 toc-link-生命周期">生命周期</li><li class="level-3 toc-link-双向数据绑定">双向数据绑定</li><li class="level-3 toc-link-虚拟dom">虚拟DOM</li><li class="level-3 toc-link-vuex">Vuex</li><li class="level-3 toc-link-vue-router">Vue-router</li><li class="level-3 toc-link-vue3与vue2对比">Vue3与Vue2对比</li><li class="level-3 toc-link-其他">其他</li></ul></div><!--]--></div><div class="search-page" role="search"><span class="search-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="28" height="28" fill="currentColor"><path d="M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"></path></svg></span><div class="gungnir-search-box"><input placeholder="$ grep ..." autocomplete="off" spellcheck="false" value><!----></div></div><div class="menu-btn-container"><div class="menu-btn-wrapper"><div class="menu-btn"><div style="" class="menu-btn-icon"><span></span><span></span><span></span></div><div style="display:none;" class="menu-text">0</div><svg class="menu-progress"><circle class="menu-border" cx="50%" cy="50%" r="48%" style="stroke-dasharray:0% 314.15926%;"></circle></svg></div><div class="menu-btn-child-wrapper"><div title="toggle color mode" class="menu-btn-child"><svg class="ov-icon" style="font-size:1.2em;display:none;" aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"/></svg><svg class="ov-icon" style="font-size:1.2em;display:none;" aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 00283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"/></svg><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg></div><div class="menu-btn-child"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div><div class="menu-btn-child"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div><div class="menu-btn-child menu-toc-btn"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M48 48a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm448 16H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16z"/></svg></div><div class="toggle-sidebar-button menu-btn-child menu-btn-sidebar" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor"><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div><footer class="footer"><span>
          博客使用 <a href="https://v2.vuepress.vuejs.org" target="_blank">VuePress</a> 与
          <a href="https://github.com/Renovamen/vuepress-theme-gungnir" target="_blank">Gungnir 主题进行开发</a>
        </span></footer></div><!--]--></div>
    <script type="module" src="/assets/app.4afcc58d.js" defer></script>
  </body>
</html>
